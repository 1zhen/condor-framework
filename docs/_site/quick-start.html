<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Condor GRPC Framework by devsu</title>

  <link rel="stylesheet" href="/assets/css/style.css?v=83df022557678abb210c79943f5552f63f1f98c8">
  <meta name="viewport" content="width=device-width">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
<div class="wrapper">
  <header>
    <h1>Condor GRPC Framework</h1>
    <p>A GRPC Framework for Node</p>

    
    <p class="view"><a href="http://github.com/devsu/condor-framework">View the Project on GitHub <small></small></a></p>
    

    

    
  </header>
  <section>
    <h3>Table of contents</h3>
    
      
        <a href="middleware">middleware</a>
      
    
      
        <a href="authentication">authentication</a>
      
    
      
        <a href="errorHandlers">error handlers</a>
      
    
  </section>
  <section>

    <h2 id="quick-start">Quick start</h2>

<p>Before start, we recommend you to get familiar with <a href="http://www.grpc.io/">GRPC</a>.</p>

<ol>
  <li>Create your app</li>
</ol>

<p><code class="highlighter-rouge">bash
  mkdir my-app
  cd my-app
  npm init
 </code></p>

<ol>
  <li>Add the dependencies</li>
</ol>

<p><code class="highlighter-rouge">bash
  npm i --save condor-framework
 </code></p>

<ol>
  <li>If you don’t have it, create your proto file. (e.g. <code class="highlighter-rouge">protos/greeter.proto</code>)</li>
</ol>

<p>```proto
  syntax = “proto3”;</p>

<p>package myapp;</p>

<p>message Person {
    string name = 1;
  }</p>

<p>message Greeting {
    string greeting = 1;
  }</p>

<p>service Greeter {
    rpc sayHello (Person) returns (Greeting) { }
  }
  ```</p>

<ol>
  <li>Add the code to your start script (e.g. <code class="highlighter-rouge">index.js</code>)</li>
</ol>

<p>```js
  const Condor = require(‘condor-framework’);</p>

<p>class Greeter {
    sayHello(call) {
      return { ‘greeting’: ‘Hello ‘ + call.request.name };
    }
  }</p>

<p>const app = new Condor()
    .addService(‘./protos/greeter.proto’, new Greeter())
    .start();
  ```</p>

<ol>
  <li>Run your app</li>
</ol>

<p><code class="highlighter-rouge">bash
  node index.js
 </code></p>

<ol>
  <li>To test your app with a client.</li>
</ol>

<ul>
  <li>
    <p>Add required dependencies</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code>npm i --save grpc
</code></pre>
    </div>
  </li>
  <li>
    <p>On your client start script (e.g. <code class="highlighter-rouge">client.js</code>) add the following lines:</p>

    <div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">greeterProto</span> <span class="o">=</span> <span class="nx">grpc</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s1">'./protos/greeter.proto'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">greeterProto</span><span class="p">.</span><span class="nx">myapp</span><span class="p">.</span><span class="nx">Greeter</span><span class="p">(</span><span class="s1">'127.0.0.1:3000'</span><span class="p">,</span> <span class="nx">grpc</span><span class="p">.</span><span class="nx">credentials</span><span class="p">.</span><span class="nx">createInsecure</span><span class="p">());</span>
    
<span class="kd">function</span> <span class="nx">sayHello</span><span class="p">(</span><span class="nx">person</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">client</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">greeting</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greeting</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
    
<span class="nx">sayHello</span><span class="p">({</span> <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Peter Pan'</span> <span class="p">});</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Execute the client (on another terminal, while server is running)</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code>node client.js
</code></pre>
    </div>
  </li>
</ul>


  </section>
  <footer>
    
    <p>This project is maintained by <a href="http://github.com/devsu">devsu</a></p>
    
  </footer>
</div>
<script src="/assets/js/scale.fix.js"></script>



</body>
</html>
